<!DOCTYPE html>
<html>
<head>
	<title>Cartographie des opérateurs et contructeurs d'aéronefs télépilotés</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!--CSS Leaflet*/-->
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
	<!--CSS Leaflet-MiniMap : https://github.com/Norkart/Leaflet-MiniMap-->
	<!--<link rel="stylesheet" href="http://igeo.fr/leaflet/plugins/MiniMap/Control.MiniMap.css" />-->
	<!--CSS Leaflet.MousePosition : https://github.com/ardhi/Leaflet.MousePosition-->
	<link rel="stylesheet" href="http://igeo.fr/leaflet/plugins/MousePosition/L.Control.MousePosition.css" />
	<!--CSS Leaflet.GeoSearch : https://github.com/smeijer/L.GeoSearch-->
	<link rel="stylesheet" href="http://igeo.fr/leaflet/plugins/GeoSearch/css/l.geosearch.css" />
	<!--CSS Leaflet.MarkerCluster : https://github.com/Leaflet/Leaflet.markercluster -->
	<link rel="stylesheet" href="http://igeo.fr/leaflet/plugins/markercluster/MarkerCluster.css" />
	<link rel="stylesheet" href="http://igeo.fr/leaflet/plugins/markercluster/MarkerCluster.Default.css" />
	<!--http://fontawesome.io/icons/ -->
	<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<!--CSS Leaflet.Sidebar https://github.com/turbo87/sidebar-v2-->
	<link rel="stylesheet" href="http://igeo.fr/leaflet/plugins/sidebar-v2-gh-pages/css/leaflet-sidebar.css" />

	<style>
			body {
					padding: 0;
					margin: 0;
					background-color :#435a6b;
			}


			html, body, #map {
					height:100%;
					font: 10pt "Helvetica Neue", Arial, Helvetica, sans-serif;
			}

			.lorem {
					font-style: italic;
					color: #AAA;
			}
			.link {
					color: #0074D9;
					text-decoration:none;
			}
	</style>
	</head>

<body>

	<!--JS jquery -->
	<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>

	<!--JS Leaflet-->
	<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
	<!--JS Leaflet-MiniMap : https://github.com/Norkart/Leaflet-MiniMap-->
	<!--<script src="http://igeo.fr/leaflet/plugins/MiniMap/Control.MiniMap.js" type="text/javascript"></script>-->
	<!--JS Leaflet.MousePosition : https://github.com/ardhi/Leaflet.MousePosition-->
	<script src="http://igeo.fr/leaflet/plugins/MousePosition/L.Control.MousePosition.js" type="text/javascript"></script>
	<!--JS Leaflet.GeoSearch : https://github.com/smeijer/L.GeoSearch-->
	<script src="http://igeo.fr/leaflet/plugins/GeoSearch/js/l.control.geosearch.js"></script>
	<script src="http://igeo.fr/leaflet/plugins/GeoSearch/js/l.geosearch.provider.openstreetmap.js"></script>
	<!--JS Leaflet.MarkerCluster : https://github.com/Leaflet/Leaflet.markercluster -->
	<script src="http://igeo.fr/leaflet/plugins/markercluster/leaflet.markercluster-src.js"></script>
	<!--JS Leaflet.heat https://github.com/Leaflet/Leaflet.heat-->
	<script src="http://igeo.fr/leaflet/plugins/Heat/dist/leaflet-heat.js"></script>
	<!--JS Leaflet.Sidebar https://github.com/turbo87/sidebar-v2-->
	<script src="http://igeo.fr/leaflet/plugins/sidebar-v2-gh-pages/js/leaflet-sidebar.js"></script>

	<div id="sidebar" class="sidebar collapsed">
			<!-- Nav tabs -->
			<ul class="sidebar-tabs" role="tablist">
					<li><a href="#home" role="tab"><i class="fa fa-bars"></i></a></li>
					<li><a href="#drone" role="tab"><i class="fa fa-database"></i></a></li>
					<li><a href="#profile" role="tab"><i class="fa fa-user"></i></a></li>
					<li><a href="#techno" role="tab"><i class="fa fa-wrench"></i></a></li>

			</ul>

			<!-- Tab panes -->
			<div class="sidebar-content active">
					<div class="sidebar-pane" id="home">
							<h2>Cartographie des opérateurs et contructeurs d'aéronefs télépilotés</h2>

							<p style="text-align:justify;">Cette carte a été créée pour faciliter la recherche d'opérateurs et/ou constructeurs de drones autorisés par la <a class="link" href =http://www.developpement-durable.gouv.fr/-Secteur-Aerien,1633-.html> DGAC</a> (Direction Générale de l'Aviation Civile).
							</p>

							<h3>Petit rappel :</h3>
							<p style="text-align:justify;">Pour accompagner le développement des drones civils, la <a class="link" href =http://www.developpement-durable.gouv.fr/-Secteur-Aerien,1633-.html> DGAC</a> a élaboré une réglementation que je vous
							invite à découvrir sur <a class="link" href =http://www.developpement-durable.gouv.fr/Quelle-place-pour-les-drones-dans.html>cette page.</a>

							<br><br>Dans le cadre de cette réglementation : <br>
							- les opérateurs de drones souhaitant voler sur le territoire français doivent obtenir
							une autorisation de la DGAC. Ces opérateurs sont listés dans un fichier consultable <a class="link" href =http://listedrones.dsac.fr>ici</a>.

							<br><br>- les constructeurs reçoivent quant à eux une autorisation de conception pour le modèle présenté lorsque celui-ci est conforme à la réglementation.</p>
					</div>
<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////////// -->

					<div class="sidebar-pane" id="drone">
						 	<h2>Les données</h2>
							<p style="text-align:justify;">Les données crées à partir du listing de la DGAC sont disponibles sous licence
							<a class="link" href =http://creativecommons.org/licenses/by-sa/3.0/fr/>	CC BY-SA</a>
							</p>
							<h2>Les opérateurs de drones</h2>
							<p class="lorem" style="text-align:justify;">Liste des exploitants en activités particulières au moyen d'aéronefs télé pilotés autorisés selon les scenarios S1 à S4</a>
							<p style="text-align:justify;">
							<a class="link" href =https://github.com/igeofr/igeofr.github.io/blob/master/map_drones/201411/20141115_exploitants.geojson>Fichier créé à partir de la liste du 15/11/2014<a></br>
							<a class="link" href =https://github.com/igeofr/igeofr.github.io/blob/master/map_drones/201409/20140918_exploitants.geojson>Fichier créé à partir de la liste du 18/09/2014<a>
							</p>

							<br><br>

							<h2>Les constructeurs de drones</h2>
							<p class="lorem" style="text-align:justify;">Liste des constructeurs d'aéronefs télépilotés ayant reçu une attestation de conception type</p>
							</p>
							<a class="link" href =https://github.com/igeofr/igeofr.github.io/blob/master/map_drones/201411/20141105_constructeurs.geojson>Fichier créé à partir de la liste du 05/11/2014<a></br>
							<a class="link" href =https://github.com/igeofr/igeofr.github.io/blob/master/map_drones/201409/20140923_constructeurs.geojson>Fichier créé à partir de la liste du 23/09/2014<a>
							</p>

				 </div>
<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////////// -->
					<div class="sidebar-pane" id="profile">
							<h2>Contribuer au projet</h2>
							<p style="text-align:justify;">

							<a class="link" href =https://twitter.com/iGeoFlo>Signaler un changement d'adresse/une erreur</a>
							<br><br>

							<a>Vous souhaitez participer au maintien de cette carte, n'hésitez pas à contacter nos contributeurs.</a>
							</p>

							<h3>Les partenaires</h3>

							<p style="text-align:justify;">
								<a href =http://www.federation-drone.org><img src="http://www.federation-drone.org/wp-content/uploads/2013/06/Logo-RVB-2480x980.png" title="logofpdc" style="width:45%;height:45%;"></a>
							</p>
							<br><br>
							<h3>Les contributeurs</h3>
							<a class="link" href =https://twitter.com/iGeoFlo>Florian</a>
					</div>

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////////// -->
					<div class="sidebar-pane" id="techno">
							<h2>Les outils</h2>

							<h4>Le géocodage</h4>
							<p style="text-align:justify;"> Le géocodage des opérateurs et constructeurs a été réalisé sur <a class="link" href =http://www.qgis.org> QGIS</a> avec le plugin <a class="link" href =http://michaelminn.com/linux/mmqgis/>MMQGIS</a>.</p>

							<h4>La carte</h4>
							<p style="text-align:justify;">La carte a été réalisé avec la librairie <a class="link" href =http://leafletjs.com> Leafflet</a> et les plugins suivants:
							<br>- <a class="link" href =https://github.com/ardhi/Leaflet.MousePosition>MousePosition</a>
							<br>- <a class="link" href =https://github.com/smeijer/L.GeoSearch>Geosearch</a>
							<br>- <a class="link" href =https://github.com/turbo87/sidebar-v2>Sidebar-v2</a>

							</p>
					</div>
			</div>
	</div>

	<div id="map" class="sidebar-map"></div>
	<script type="text/javascript">

	// IGN Géoportail Api Key
	//var ignApiKey = "" ;

	// IGN ORTHO
	//var orthoWmtsUrl	= "http://gpp3-wxs.ign.fr/"+ignApiKey + "/wmts?LAYER=ORTHOIMAGERY.ORTHOPHOTOS&EXCEPTIONS=text/xml&FORMAT=image/jpeg&SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&STYLE=normal&TILEMATRIXSET=PM&&TILEMATRIX={z}&TILECOL={x}&TILEROW={y}" ;
	//var ORTHO= L.tileLayer(orthoWmtsUrl, {attribution: '&copy; <a href="http://www.ign.fr/">IGN</a>'});

	// MapBox
	var mapbox   = L.tileLayer('https://b.tiles.mapbox.com/v3/examples.c7d2024a/{z}/{x}/{y}.png', {
	attribution: 'Map tiles by <a href="http://www.mapbox.com/">MapBox</a> &mdash; Map data &copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'});

	//Stamen
	var stamen = L.tileLayer('http://{s}.tile.stamen.com/toner/{z}/{x}/{y}.png', {
	attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
	subdomains: 'abcd',	minZoom: 0,	maxZoom: 20	});

	//MapQuest
	var MapQuestOpen_OSM = L.tileLayer('http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpeg', {
	attribution: 'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
	subdomains: '1234'});

	//OSM
	var OpenStreetMap_Mapnik = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
	attribution: '&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'});

	var baseMap = {"Mapbox": mapbox, "Mapnik": OpenStreetMap_Mapnik,"MapQuest": MapQuestOpen_OSM,"Stamen Toner": stamen};

	//----------------------------------------------------------------------------------------------------------------

	var myIcon = L.icon({
								iconUrl: 'location_operateurs.svg',
								iconSize: [28, 28],
								iconAnchor: [14, 28],
								popupAnchor: [0, -20]
								});

	var myIcon1 = L.icon({
								iconUrl: 'location_constructeurs.svg',
								iconSize: [28, 28],
								iconAnchor: [14, 28],
								popupAnchor: [0, -28]
								});

	var myIcon_s1= L.icon({
								iconUrl: 'location_s1.svg',
								iconSize: [28, 28],
								iconAnchor: [14, 28],
								popupAnchor: [0, -28]
								});

	var myIcon_s2= L.icon({
								iconUrl: 'location_s2.svg',
								iconSize: [28, 28],
								iconAnchor: [14, 28],
								popupAnchor: [0, -28]
								});

	var myIcon_s3= L.icon({
								iconUrl: 'location_s3.svg',
								iconSize: [28, 28],
								iconAnchor: [14, 28],
								popupAnchor: [0, -28]
								});

	var myIcon_s4 = L.icon({
								iconUrl: 'location_s4.svg',
								iconSize: [28, 28],
								iconAnchor: [14, 28],
								popupAnchor: [0, -28]
								});

	var myIconfpdc = L.icon({
								iconUrl: 'location_fpdc.svg',
								iconSize: [28, 28],
								iconAnchor: [14, 28],
								popupAnchor: [0, -28]
								});
//----------------------------------------------------------------------------------------------------------------

	coords_constructeurs = []; //define an array to store coordinates
	$.getJSON('201411/20141105_constructeurs.geojson', function(data) {
	var constructeurs = L.geoJson(data, {
		onEachFeature: function (feature, layer) {
			layer.bindPopup('<b><a style="color:red;">'+feature.properties.NOM +'</a></b>'+
			'<br>'+ feature.properties.CODE_P+'&nbsp;'+ feature.properties.VILLE+'&nbsp; - &nbsp;'+ feature.properties.PAYS+
			'<br><b>Site web : </b><a href=" ' + feature.properties.WEB + '">'+feature.properties.WEB +'</a>'
			);
			layer.setIcon (layer.options.icon =myIcon1);
			coords_constructeurs.push(L.GeoJSON.coordsToLatLng(feature.geometry.coordinates));
		}
	});

//----------------------------------------------------------------------------------------------------------------

	coords = []; //define an array to store coordinates

	$.getJSON('201411/20141115_exploitants.geojson', function(data) {
		var drone = L.geoJson(data, {
			onEachFeature: function (feature, layer) {
				var strfpdc = '';
					if (feature.properties.FPDC == 1) {
							strfpdc = '<a>Oui</a>';
					} else if (feature.properties.FPDC == 0) {
							strfpdc ='/';
					}
				var stragr = '';
	 				if (feature.properties.AGR == 1) {
	            stragr = '<a>Oui</a>';
	        } else if (feature.properties.AGR == 0) {
	            stragr ='/';
	        }
				var strforagr = '';
					if (feature.properties.FOR_AGR == 1) {
							strforagr = '<a>Oui</a>';
					} else if (feature.properties.FOR_AGR == 0) {
							strforagr ='/';
					}
				var strlrg = '';
					if (feature.properties.LRG == 1) {
							strlrg = '<a>Oui</a>';
					} else if (feature.properties.LRG == 0) {
							strlrg ='/';
					}
				var strforlrg = '';
					if (feature.properties.FOR_LRG == 1) {
							strforlrg = '<a>Oui</a>';
					} else if (feature.properties.FOR_LRG == 0) {
							strforlrg ='/';
					}
				var strpub = '';
					if (feature.properties.PUB == 1) {
							strpub = '<a>Oui</a>';
					} else if (feature.properties.PUB == 0) {
							strpub ='/';
					}
				var strforpub = '';
					if (feature.properties.FOR_PUB == 1) {
							strforpub = '<a>Oui</a>';
					} else if (feature.properties.FOR_PUB == 0) {
							strforpub ='/';
					}
				var strobs = '';
					if (feature.properties.OBS == 1) {
							strobs = '<a>Oui</a>';
					} else if (feature.properties.OBS == 0) {
							strobs ='/';
					}
				var strforobs = '';
					if (feature.properties.FOR_OBS == 1) {
							strforobs = '<a>Oui</a>';
					} else if (feature.properties.FOR_OBS == 0) {
							strforobs ='/';
					}
				var straut = '';
					if (feature.properties.AUT == 1) {
							straut = '<a>Oui</a>';
					} else if (feature.properties.AUT == 0) {
							straut ='/';
					}
				var strforaut = '';
					if (feature.properties.FOR_AUT == 1) {
							strforaut = '<a>Oui</a>';
					} else if (feature.properties.FOR_AUT == 0) {
							strforaut ='/';
					}
	//----------------------------------------------------------------------------------------------------------------

				var strs1= '';
					if (feature.properties.S1 == 1) {
							strs1 = '<a>Oui</a>';
					} else if (feature.properties.S1 == 0) {
							strs1 ='/';
					}
				var strs2 = '';
					if (feature.properties.S2 == 1) {
							strs2 = '<a>Oui</a>';
					} else if (feature.properties.S2 == 0) {
							strs2 ='/';
					}
				var strs3 = '';
					if (feature.properties.S3 == 1) {
							strs3 = '<a>Oui</a>';
					} else if (feature.properties.S3 == 0) {
							strs3 ='/';
					}
				var strs4 = '';
					if (feature.properties.S4 == 1) {
							strs4 = '<a>Oui</a>';
					} else if (feature.properties.S4 == 0) {
							strs4 ='/';
					}
				layer.bindPopup('<b><a style="color:red;">'+feature.properties.NOM +'</a></b>'+
				'<br>'+ feature.properties.CODE_P+'&nbsp;'+ feature.properties.VILLE+'&nbsp; - &nbsp;'+ feature.properties.PAYS+
				'<br><b>Site web : </b><a href=" ' + feature.properties.WEB + '">'+feature.properties.WEB +'</a>'+
				'<br><b>Activités :</b>'+
				'<br><table style="border:0px solid black; width:100%">'+
				'<tr><td>[AGR] : '+ stragr +'</td>'+
				'<td>[FOR-AGR] : '+ strforagr +'</td></tr>'+
				'<tr><td>[LRG] : '+ strlrg +'</td>'+
				'<td>[FOR-LRG] : '+ strforlrg +'</td></tr>'+
				'<tr><td>[PUB] : '+ strpub +'</td>'+
				'<td>[FOR-PUB] : '+ strforpub +'</td></tr>'+
				'<tr><td>[OBS] : '+ strobs +'</td>'+
				'<td>[FOR-OBS] : '+ strforobs +'</td></tr>'+
				'<tr><td>[AUT] : '+ straut+'</td>'+
				'<td>[FOR-AUT] : '+ strforaut +'</td></tr>'+
				'</table>'+
				'<b>Scénarios :</b>'+
				'<table style="border:0px solid black; width:100%">'+
				'<tr><td>[S1] : '+ strs1 +'</td>'+
				'<td>[S2] : '+ strs2 +'</td></tr>'+
				'<tr><td>[S3] : '+ strs3 +'</td>'+
				'<td>[S4] : '+ strs4 +'</td></tr>'+
				'</table>'+
				'<b>Adhérent à la <a href =http://www.federation-drone.org>FPDC</a> :</b> '+ strfpdc
				//'<br><a style="color:red;"> Vérifié le : </a><a style="color:red;">'+feature.properties.VERIF +'</a>'

				);
				layer.setIcon (layer.options.icon =myIcon);
				coords.push(L.GeoJSON.coordsToLatLng(feature.geometry.coordinates));
			}
		});

		//----------------------------------------------------------------------------------------------------------------
		coords_s_un = []; //define an array to store coordinates
		$.getJSON('201411/20141115_exploitants_S1.geojson', function(data) {
			var exploitants_s_un = L.geoJson(data, {
				onEachFeature: function (feature, layer) {
					var strfpdc = '';
					if (feature.properties.FPDC == 1) {
						strfpdc = '<a>Oui</a>';
					} else if (feature.properties.FPDC == 0) {
						strfpdc ='/';
					}
					var stragr = '';
					if (feature.properties.AGR == 1) {
						stragr = '<a>Oui</a>';
					} else if (feature.properties.AGR == 0) {
						stragr ='/';
					}
					var strforagr = '';
					if (feature.properties.FOR_AGR == 1) {
						strforagr = '<a>Oui</a>';
					} else if (feature.properties.FOR_AGR == 0) {
						strforagr ='/';
					}
					var strlrg = '';
					if (feature.properties.LRG == 1) {
						strlrg = '<a>Oui</a>';
					} else if (feature.properties.LRG == 0) {
						strlrg ='/';
					}
					var strforlrg = '';
					if (feature.properties.FOR_LRG == 1) {
						strforlrg = '<a>Oui</a>';
					} else if (feature.properties.FOR_LRG == 0) {
						strforlrg ='/';
					}
					var strpub = '';
					if (feature.properties.PUB == 1) {
						strpub = '<a>Oui</a>';
					} else if (feature.properties.PUB == 0) {
						strpub ='/';
					}
					var strforpub = '';
					if (feature.properties.FOR_PUB == 1) {
						strforpub = '<a>Oui</a>';
					} else if (feature.properties.FOR_PUB == 0) {
						strforpub ='/';
					}
					var strobs = '';
					if (feature.properties.OBS == 1) {
						strobs = '<a>Oui</a>';
					} else if (feature.properties.OBS == 0) {
						strobs ='/';
					}
					var strforobs = '';
					if (feature.properties.FOR_OBS == 1) {
						strforobs = '<a>Oui</a>';
					} else if (feature.properties.FOR_OBS == 0) {
						strforobs ='/';
					}
					var straut = '';
					if (feature.properties.AUT == 1) {
						straut = '<a>Oui</a>';
					} else if (feature.properties.AUT == 0) {
						straut ='/';
					}
					var strforaut = '';
					if (feature.properties.FOR_AUT == 1) {
						strforaut = '<a>Oui</a>';
					} else if (feature.properties.FOR_AUT == 0) {
						strforaut ='/';
					}

					//----------------------------------------------------------------------------------------------------------------

					var strs1= '';
					if (feature.properties.S1 == 1) {
						strs1 = '<a>Oui</a>';
					} else if (feature.properties.S1 == 0) {
						strs1 ='/';
					}
					var strs2 = '';
					if (feature.properties.S2 == 1) {
						strs2 = '<a>Oui</a>';
					} else if (feature.properties.S2 == 0) {
						strs2 ='/';
					}
					var strs3 = '';
					if (feature.properties.S3 == 1) {
						strs3 = '<a>Oui</a>';
					} else if (feature.properties.S3 == 0) {
						strs3 ='/';
					}
					var strs4 = '';
					if (feature.properties.S4 == 1) {
						strs4 = '<a>Oui</a>';
					} else if (feature.properties.S4 == 0) {
						strs4 ='/';
					}
					layer.bindPopup('<b><a style="color:red;">'+feature.properties.NOM +'</a></b>'+
					'<br>'+ feature.properties.CODE_P+'&nbsp;'+ feature.properties.VILLE+'&nbsp; - &nbsp;'+ feature.properties.PAYS+
					'<br><b>Site web : </b><a href=" ' + feature.properties.WEB + '">'+feature.properties.WEB +'</a>'+
					'<br><b>Activités :</b>'+
					'<br><table style="border:0px solid black; width:100%">'+
						'<tr><td>[AGR] : '+ stragr +'</td>'+
							'<td>[FOR-AGR] : '+ strforagr +'</td></tr>'+
							'<tr><td>[LRG] : '+ strlrg +'</td>'+
								'<td>[FOR-LRG] : '+ strforlrg +'</td></tr>'+
								'<tr><td>[PUB] : '+ strpub +'</td>'+
									'<td>[FOR-PUB] : '+ strforpub +'</td></tr>'+
									'<tr><td>[OBS] : '+ strobs +'</td>'+
										'<td>[FOR-OBS] : '+ strforobs +'</td></tr>'+
										'<tr><td>[AUT] : '+ straut+'</td>'+
											'<td>[FOR-AUT] : '+ strforaut +'</td></tr>'+
											'</table>'+
											'<b>Scénarios :</b>'+
											'<table style="border:0px solid black; width:100%">'+
												'<tr><td>[S1] : '+ strs1 +'</td>'+
													'<td>[S2] : '+ strs2 +'</td></tr>'+
													'<tr><td>[S3] : '+ strs3 +'</td>'+
														'<td>[S4] : '+ strs4 +'</td></tr>'+
														'</table>'+
														'<b>Adhérent à la <a href =http://www.federation-drone.org>FPDC</a> :</b> '+ strfpdc
														//'<br><a style="color:red;"> Vérifié le : </a><a style="color:red;">'+feature.properties.VERIF +'</a>'

														);
														layer.setIcon (layer.options.icon =myIcon_s1);
														coords_s_un.push(L.GeoJSON.coordsToLatLng(feature.geometry.coordinates));
													}
		});

		//----------------------------------------------------------------------------------------------------------------

		coords_s_deux = []; //define an array to store coordinates
		$.getJSON('201411/20141115_exploitants_S2.geojson', function(data) {
			var exploitants_s_deux = L.geoJson(data, {
				onEachFeature: function (feature, layer) {
					var strfpdc = '';
					if (feature.properties.FPDC == 1) {
						strfpdc = '<a>Oui</a>';
					} else if (feature.properties.FPDC == 0) {
						strfpdc ='/';
					}
					var stragr = '';
					if (feature.properties.AGR == 1) {
						stragr = '<a>Oui</a>';
					} else if (feature.properties.AGR == 0) {
						stragr ='/';
					}
					var strforagr = '';
					if (feature.properties.FOR_AGR == 1) {
						strforagr = '<a>Oui</a>';
					} else if (feature.properties.FOR_AGR == 0) {
						strforagr ='/';
					}
					var strlrg = '';
					if (feature.properties.LRG == 1) {
						strlrg = '<a>Oui</a>';
					} else if (feature.properties.LRG == 0) {
						strlrg ='/';
					}
					var strforlrg = '';
					if (feature.properties.FOR_LRG == 1) {
						strforlrg = '<a>Oui</a>';
					} else if (feature.properties.FOR_LRG == 0) {
						strforlrg ='/';
					}
					var strpub = '';
					if (feature.properties.PUB == 1) {
						strpub = '<a>Oui</a>';
					} else if (feature.properties.PUB == 0) {
						strpub ='/';
					}
					var strforpub = '';
					if (feature.properties.FOR_PUB == 1) {
						strforpub = '<a>Oui</a>';
					} else if (feature.properties.FOR_PUB == 0) {
						strforpub ='/';
					}
					var strobs = '';
					if (feature.properties.OBS == 1) {
						strobs = '<a>Oui</a>';
					} else if (feature.properties.OBS == 0) {
						strobs ='/';
					}
					var strforobs = '';
					if (feature.properties.FOR_OBS == 1) {
						strforobs = '<a>Oui</a>';
					} else if (feature.properties.FOR_OBS == 0) {
						strforobs ='/';
					}
					var straut = '';
					if (feature.properties.AUT == 1) {
						straut = '<a>Oui</a>';
					} else if (feature.properties.AUT == 0) {
						straut ='/';
					}
					var strforaut = '';
					if (feature.properties.FOR_AUT == 1) {
						strforaut = '<a>Oui</a>';
					} else if (feature.properties.FOR_AUT == 0) {
						strforaut ='/';
					}
					//----------------------------------------------------------------------------------------------------------------

					var strs1= '';
					if (feature.properties.S1 == 1) {
						strs1 = '<a>Oui</a>';
					} else if (feature.properties.S1 == 0) {
						strs1 ='/';
					}
					var strs2 = '';
					if (feature.properties.S2 == 1) {
						strs2 = '<a>Oui</a>';
					} else if (feature.properties.S2 == 0) {
						strs2 ='/';
					}
					var strs3 = '';
					if (feature.properties.S3 == 1) {
						strs3 = '<a>Oui</a>';
					} else if (feature.properties.S3 == 0) {
						strs3 ='/';
					}
					var strs4 = '';
					if (feature.properties.S4 == 1) {
						strs4 = '<a>Oui</a>';
					} else if (feature.properties.S4 == 0) {
						strs4 ='/';
					}
					layer.bindPopup('<b><a style="color:red;">'+feature.properties.NOM +'</a></b>'+
					'<br>'+ feature.properties.CODE_P+'&nbsp;'+ feature.properties.VILLE+'&nbsp; - &nbsp;'+ feature.properties.PAYS+
					'<br><b>Site web : </b><a href=" ' + feature.properties.WEB + '">'+feature.properties.WEB +'</a>'+
					'<br><b>Activités :</b>'+
					'<br><table style="border:0px solid black; width:100%">'+
						'<tr><td>[AGR] : '+ stragr +'</td>'+
							'<td>[FOR-AGR] : '+ strforagr +'</td></tr>'+
							'<tr><td>[LRG] : '+ strlrg +'</td>'+
								'<td>[FOR-LRG] : '+ strforlrg +'</td></tr>'+
								'<tr><td>[PUB] : '+ strpub +'</td>'+
									'<td>[FOR-PUB] : '+ strforpub +'</td></tr>'+
									'<tr><td>[OBS] : '+ strobs +'</td>'+
										'<td>[FOR-OBS] : '+ strforobs +'</td></tr>'+
										'<tr><td>[AUT] : '+ straut+'</td>'+
											'<td>[FOR-AUT] : '+ strforaut +'</td></tr>'+
											'</table>'+
											'<b>Scénarios :</b>'+
											'<table style="border:0px solid black; width:100%">'+
												'<tr><td>[S1] : '+ strs1 +'</td>'+
													'<td>[S2] : '+ strs2 +'</td></tr>'+
													'<tr><td>[S3] : '+ strs3 +'</td>'+
														'<td>[S4] : '+ strs4 +'</td></tr>'+
														'</table>'+
														'<b>Adhérent à la <a href =http://www.federation-drone.org>FPDC</a> :</b> '+ strfpdc
														//'<br><a style="color:red;"> Vérifié le : </a><a style="color:red;">'+feature.properties.VERIF +'</a>'

														);
														layer.setIcon (layer.options.icon =myIcon_s2);
														coords_s_deux.push(L.GeoJSON.coordsToLatLng(feature.geometry.coordinates));
													}
		});

		//----------------------------------------------------------------------------------------------------------------

		coords_s_trois = []; //define an array to store coordinates
		$.getJSON('201411/20141115_exploitants_S3.geojson', function(data) {
			var exploitants_s_trois = L.geoJson(data, {
				onEachFeature: function (feature, layer) {
					var strfpdc = '';
					if (feature.properties.FPDC == 1) {
						strfpdc = '<a>Oui</a>';
					} else if (feature.properties.FPDC == 0) {
						strfpdc ='/';
					}
					var stragr = '';
					if (feature.properties.AGR == 1) {
						stragr = '<a>Oui</a>';
					} else if (feature.properties.AGR == 0) {
						stragr ='/';
					}
					var strforagr = '';
					if (feature.properties.FOR_AGR == 1) {
						strforagr = '<a>Oui</a>';
					} else if (feature.properties.FOR_AGR == 0) {
						strforagr ='/';
					}
					var strlrg = '';
					if (feature.properties.LRG == 1) {
						strlrg = '<a>Oui</a>';
					} else if (feature.properties.LRG == 0) {
						strlrg ='/';
					}
					var strforlrg = '';
					if (feature.properties.FOR_LRG == 1) {
						strforlrg = '<a>Oui</a>';
					} else if (feature.properties.FOR_LRG == 0) {
						strforlrg ='/';
					}
					var strpub = '';
					if (feature.properties.PUB == 1) {
						strpub = '<a>Oui</a>';
					} else if (feature.properties.PUB == 0) {
						strpub ='/';
					}
					var strforpub = '';
					if (feature.properties.FOR_PUB == 1) {
						strforpub = '<a>Oui</a>';
					} else if (feature.properties.FOR_PUB == 0) {
						strforpub ='/';
					}
					var strobs = '';
					if (feature.properties.OBS == 1) {
						strobs = '<a>Oui</a>';
					} else if (feature.properties.OBS == 0) {
						strobs ='/';
					}
					var strforobs = '';
					if (feature.properties.FOR_OBS == 1) {
						strforobs = '<a>Oui</a>';
					} else if (feature.properties.FOR_OBS == 0) {
						strforobs ='/';
					}
					var straut = '';
					if (feature.properties.AUT == 1) {
						straut = '<a>Oui</a>';
					} else if (feature.properties.AUT == 0) {
						straut ='/';
					}
					var strforaut = '';
					if (feature.properties.FOR_AUT == 1) {
						strforaut = '<a>Oui</a>';
					} else if (feature.properties.FOR_AUT == 0) {
						strforaut ='/';
					}
					//----------------------------------------------------------------------------------------------------------------

					var strs1= '';
					if (feature.properties.S1 == 1) {
						strs1 = '<a>Oui</a>';
					} else if (feature.properties.S1 == 0) {
						strs1 ='/';
					}
					var strs2 = '';
					if (feature.properties.S2 == 1) {
						strs2 = '<a>Oui</a>';
					} else if (feature.properties.S2 == 0) {
						strs2 ='/';
					}
					var strs3 = '';
					if (feature.properties.S3 == 1) {
						strs3 = '<a>Oui</a>';
					} else if (feature.properties.S3 == 0) {
						strs3 ='/';
					}
					var strs4 = '';
					if (feature.properties.S4 == 1) {
						strs4 = '<a>Oui</a>';
					} else if (feature.properties.S4 == 0) {
						strs4 ='/';
					}
					layer.bindPopup('<b><a style="color:red;">'+feature.properties.NOM +'</a></b>'+
					'<br>'+ feature.properties.CODE_P+'&nbsp;'+ feature.properties.VILLE+'&nbsp; - &nbsp;'+ feature.properties.PAYS+
					'<br><b>Site web : </b><a href=" ' + feature.properties.WEB + '">'+feature.properties.WEB +'</a>'+
					'<br><b>Activités :</b>'+
					'<br><table style="border:0px solid black; width:100%">'+
						'<tr><td>[AGR] : '+ stragr +'</td>'+
							'<td>[FOR-AGR] : '+ strforagr +'</td></tr>'+
							'<tr><td>[LRG] : '+ strlrg +'</td>'+
								'<td>[FOR-LRG] : '+ strforlrg +'</td></tr>'+
								'<tr><td>[PUB] : '+ strpub +'</td>'+
									'<td>[FOR-PUB] : '+ strforpub +'</td></tr>'+
									'<tr><td>[OBS] : '+ strobs +'</td>'+
										'<td>[FOR-OBS] : '+ strforobs +'</td></tr>'+
										'<tr><td>[AUT] : '+ straut+'</td>'+
											'<td>[FOR-AUT] : '+ strforaut +'</td></tr>'+
											'</table>'+
											'<b>Scénarios :</b>'+
											'<table style="border:0px solid black; width:100%">'+
												'<tr><td>[S1] : '+ strs1 +'</td>'+
													'<td>[S2] : '+ strs2 +'</td></tr>'+
													'<tr><td>[S3] : '+ strs3 +'</td>'+
														'<td>[S4] : '+ strs4 +'</td></tr>'+
														'</table>'+
														'<b>Adhérent à la <a href =http://www.federation-drone.org>FPDC</a> :</b> '+ strfpdc
														//'<br><a style="color:red;"> Vérifié le : </a><a style="color:red;">'+feature.properties.VERIF +'</a>'

														);
														layer.setIcon (layer.options.icon =myIcon_s3);
														coords_s_trois.push(L.GeoJSON.coordsToLatLng(feature.geometry.coordinates));
													}
		});

		//----------------------------------------------------------------------------------------------------------------
		coords_s_quatre = []; //define an array to store coordinates
		$.getJSON('201411/20141115_exploitants_S4.geojson', function(data) {
			var exploitants_s_quatre = L.geoJson(data, {
				onEachFeature: function (feature, layer) {
					var strfpdc = '';
					if (feature.properties.FPDC == 1) {
						strfpdc = '<a>Oui</a>';
					} else if (feature.properties.FPDC == 0) {
						strfpdc ='/';
					}
					var stragr = '';
					if (feature.properties.AGR == 1) {
						stragr = '<a>Oui</a>';
					} else if (feature.properties.AGR == 0) {
						stragr ='/';
					}
					var strforagr = '';
					if (feature.properties.FOR_AGR == 1) {
						strforagr = '<a>Oui</a>';
					} else if (feature.properties.FOR_AGR == 0) {
						strforagr ='/';
					}
					var strlrg = '';
					if (feature.properties.LRG == 1) {
						strlrg = '<a>Oui</a>';
					} else if (feature.properties.LRG == 0) {
						strlrg ='/';
					}
					var strforlrg = '';
					if (feature.properties.FOR_LRG == 1) {
						strforlrg = '<a>Oui</a>';
					} else if (feature.properties.FOR_LRG == 0) {
						strforlrg ='/';
					}
					var strpub = '';
					if (feature.properties.PUB == 1) {
						strpub = '<a>Oui</a>';
					} else if (feature.properties.PUB == 0) {
						strpub ='/';
					}
					var strforpub = '';
					if (feature.properties.FOR_PUB == 1) {
						strforpub = '<a>Oui</a>';
					} else if (feature.properties.FOR_PUB == 0) {
						strforpub ='/';
					}
					var strobs = '';
					if (feature.properties.OBS == 1) {
						strobs = '<a>Oui</a>';
					} else if (feature.properties.OBS == 0) {
						strobs ='/';
					}
					var strforobs = '';
					if (feature.properties.FOR_OBS == 1) {
						strforobs = '<a>Oui</a>';
					} else if (feature.properties.FOR_OBS == 0) {
						strforobs ='/';
					}
					var straut = '';
					if (feature.properties.AUT == 1) {
						straut = '<a>Oui</a>';
					} else if (feature.properties.AUT == 0) {
						straut ='/';
					}
					var strforaut = '';
					if (feature.properties.FOR_AUT == 1) {
						strforaut = '<a>Oui</a>';
					} else if (feature.properties.FOR_AUT == 0) {
						strforaut ='/';
					}
					//----------------------------------------------------------------------------------------------------------------

					var strs1= '';
					if (feature.properties.S1 == 1) {
						strs1 = '<a>Oui</a>';
					} else if (feature.properties.S1 == 0) {
						strs1 ='/';
					}
					var strs2 = '';
					if (feature.properties.S2 == 1) {
						strs2 = '<a>Oui</a>';
					} else if (feature.properties.S2 == 0) {
						strs2 ='/';
					}
					var strs3 = '';
					if (feature.properties.S3 == 1) {
						strs3 = '<a>Oui</a>';
					} else if (feature.properties.S3 == 0) {
						strs3 ='/';
					}
					var strs4 = '';
					if (feature.properties.S4 == 1) {
						strs4 = '<a>Oui</a>';
					} else if (feature.properties.S4 == 0) {
						strs4 ='/';
					}
					layer.bindPopup('<b><a style="color:red;">'+feature.properties.NOM +'</a></b>'+
					'<br>'+ feature.properties.CODE_P+'&nbsp;'+ feature.properties.VILLE+'&nbsp; - &nbsp;'+ feature.properties.PAYS+
					'<br><b>Site web : </b><a href=" ' + feature.properties.WEB + '">'+feature.properties.WEB +'</a>'+
					'<br><b>Activités :</b>'+
					'<br><table style="border:0px solid black; width:100%">'+
						'<tr><td>[AGR] : '+ stragr +'</td>'+
							'<td>[FOR-AGR] : '+ strforagr +'</td></tr>'+
							'<tr><td>[LRG] : '+ strlrg +'</td>'+
								'<td>[FOR-LRG] : '+ strforlrg +'</td></tr>'+
								'<tr><td>[PUB] : '+ strpub +'</td>'+
									'<td>[FOR-PUB] : '+ strforpub +'</td></tr>'+
									'<tr><td>[OBS] : '+ strobs +'</td>'+
										'<td>[FOR-OBS] : '+ strforobs +'</td></tr>'+
										'<tr><td>[AUT] : '+ straut+'</td>'+
											'<td>[FOR-AUT] : '+ strforaut +'</td></tr>'+
											'</table>'+
											'<b>Scénarios :</b>'+
											'<table style="border:0px solid black; width:100%">'+
												'<tr><td>[S1] : '+ strs1 +'</td>'+
													'<td>[S2] : '+ strs2 +'</td></tr>'+
													'<tr><td>[S3] : '+ strs3 +'</td>'+
														'<td>[S4] : '+ strs4 +'</td></tr>'+
														'</table>'+
														'<b>Adhérent à la <a href =http://www.federation-drone.org>FPDC</a> :</b> '+ strfpdc
														//'<br><a style="color:red;"> Vérifié le : </a><a style="color:red;">'+feature.properties.VERIF +'</a>'

														);
														layer.setIcon (layer.options.icon =myIcon_s4);
														coords_s_quatre.push(L.GeoJSON.coordsToLatLng(feature.geometry.coordinates));
													}
												});


		//----------------------------------------------------------------------------------------------------------------
		coords_s_fpdc = []; //define an array to store coordinates
		$.getJSON('201411/20141115_exploitants_FPDC.geojson', function(data) {
			var exploitants_s_fpdc = L.geoJson(data, {
				onEachFeature: function (feature, layer) {
					var strfpdc = '';
					if (feature.properties.FPDC == 1) {
						strfpdc = '<a>Oui</a>';
					} else if (feature.properties.FPDC == 0) {
						strfpdc ='/';
					}
					var stragr = '';
					if (feature.properties.AGR == 1) {
						stragr = '<a>Oui</a>';
					} else if (feature.properties.AGR == 0) {
						stragr ='/';
					}
					var strforagr = '';
					if (feature.properties.FOR_AGR == 1) {
						strforagr = '<a>Oui</a>';
					} else if (feature.properties.FOR_AGR == 0) {
						strforagr ='/';
					}
					var strlrg = '';
					if (feature.properties.LRG == 1) {
						strlrg = '<a>Oui</a>';
					} else if (feature.properties.LRG == 0) {
						strlrg ='/';
					}
					var strforlrg = '';
					if (feature.properties.FOR_LRG == 1) {
						strforlrg = '<a>Oui</a>';
					} else if (feature.properties.FOR_LRG == 0) {
						strforlrg ='/';
					}
					var strpub = '';
					if (feature.properties.PUB == 1) {
						strpub = '<a>Oui</a>';
					} else if (feature.properties.PUB == 0) {
						strpub ='/';
					}
					var strforpub = '';
					if (feature.properties.FOR_PUB == 1) {
						strforpub = '<a>Oui</a>';
					} else if (feature.properties.FOR_PUB == 0) {
						strforpub ='/';
					}
					var strobs = '';
					if (feature.properties.OBS == 1) {
						strobs = '<a>Oui</a>';
					} else if (feature.properties.OBS == 0) {
						strobs ='/';
					}
					var strforobs = '';
					if (feature.properties.FOR_OBS == 1) {
						strforobs = '<a>Oui</a>';
					} else if (feature.properties.FOR_OBS == 0) {
						strforobs ='/';
					}
					var straut = '';
					if (feature.properties.AUT == 1) {
						straut = '<a>Oui</a>';
					} else if (feature.properties.AUT == 0) {
						straut ='/';
					}
					var strforaut = '';
					if (feature.properties.FOR_AUT == 1) {
						strforaut = '<a>Oui</a>';
					} else if (feature.properties.FOR_AUT == 0) {
						strforaut ='/';
					}
					//----------------------------------------------------------------------------------------------------------------

					var strs1= '';
					if (feature.properties.S1 == 1) {
						strs1 = '<a>Oui</a>';
					} else if (feature.properties.S1 == 0) {
						strs1 ='/';
					}
					var strs2 = '';
					if (feature.properties.S2 == 1) {
						strs2 = '<a>Oui</a>';
					} else if (feature.properties.S2 == 0) {
						strs2 ='/';
					}
					var strs3 = '';
					if (feature.properties.S3 == 1) {
						strs3 = '<a>Oui</a>';
					} else if (feature.properties.S3 == 0) {
						strs3 ='/';
					}
					var strs4 = '';
					if (feature.properties.S4 == 1) {
						strs4 = '<a>Oui</a>';
					} else if (feature.properties.S4 == 0) {
						strs4 ='/';
					}
					layer.bindPopup('<b><a style="color:red;">'+feature.properties.NOM +'</a></b>'+
					'<br>'+ feature.properties.CODE_P+'&nbsp;'+ feature.properties.VILLE+'&nbsp; - &nbsp;'+ feature.properties.PAYS+
					'<br><b>Site web : </b><a href=" ' + feature.properties.WEB + '">'+feature.properties.WEB +'</a>'+
					'<br><b>Activités :</b>'+
					'<br><table style="border:0px solid black; width:100%">'+
						'<tr><td>[AGR] : '+ stragr +'</td>'+
							'<td>[FOR-AGR] : '+ strforagr +'</td></tr>'+
							'<tr><td>[LRG] : '+ strlrg +'</td>'+
								'<td>[FOR-LRG] : '+ strforlrg +'</td></tr>'+
								'<tr><td>[PUB] : '+ strpub +'</td>'+
									'<td>[FOR-PUB] : '+ strforpub +'</td></tr>'+
									'<tr><td>[OBS] : '+ strobs +'</td>'+
										'<td>[FOR-OBS] : '+ strforobs +'</td></tr>'+
										'<tr><td>[AUT] : '+ straut+'</td>'+
											'<td>[FOR-AUT] : '+ strforaut +'</td></tr>'+
											'</table>'+
											'<b>Scénarios :</b>'+
											'<table style="border:0px solid black; width:100%">'+
												'<tr><td>[S1] : '+ strs1 +'</td>'+
													'<td>[S2] : '+ strs2 +'</td></tr>'+
													'<tr><td>[S3] : '+ strs3 +'</td>'+
														'<td>[S4] : '+ strs4 +'</td></tr>'+
														'</table>'+
														'<b>Adhérent à la <a href =http://www.federation-drone.org>FPDC</a> :</b> '+ strfpdc
														//'<br><a style="color:red;"> Vérifié le : </a><a style="color:red;">'+feature.properties.VERIF +'</a>'

														);
														layer.setIcon (layer.options.icon =myIconfpdc);
														layer.setOpacity(1);
														coords_s_fpdc.push(L.GeoJSON.coordsToLatLng(feature.geometry.coordinates));
													}
												});


//----------------------------------------------------------------------------------------------------------------

	var markers_const = L.markerClusterGroup({spiderfyOnMaxZoom: false, showCoverageOnHover: true, zoomToBoundsOnClick: true, disableClusteringAtZoom: 12});
	markers_const.addLayer(constructeurs);

	var markers = L.markerClusterGroup({spiderfyOnMaxZoom: false, showCoverageOnHover: true, zoomToBoundsOnClick: true, disableClusteringAtZoom: 12});
			markers.addLayer(drone);

	var markers_s_un = L.markerClusterGroup({spiderfyOnMaxZoom: false, showCoverageOnHover: true, zoomToBoundsOnClick: true, disableClusteringAtZoom: 12});
	markers_s_un.addLayer(exploitants_s_un);

	var markers_s_deux = L.markerClusterGroup({spiderfyOnMaxZoom: false, showCoverageOnHover: true, zoomToBoundsOnClick: true, disableClusteringAtZoom: 12});
	markers_s_deux.addLayer(exploitants_s_deux);

	var markers_s_trois = L.markerClusterGroup({spiderfyOnMaxZoom: false, showCoverageOnHover: true, zoomToBoundsOnClick: true, disableClusteringAtZoom: 12});
	markers_s_trois.addLayer(exploitants_s_trois);

	var markers_s_quatre = L.markerClusterGroup({spiderfyOnMaxZoom: false, showCoverageOnHover: true, zoomToBoundsOnClick: true, disableClusteringAtZoom: 12});
	markers_s_quatre.addLayer(exploitants_s_quatre);

	var markers_s_fpdc = L.markerClusterGroup({spiderfyOnMaxZoom: false, showCoverageOnHover: true, zoomToBoundsOnClick: true, disableClusteringAtZoom: 12});
	markers_s_fpdc.addLayer(exploitants_s_fpdc);
//----------------------------------------------------------------------------------------------------------------

//	var heat = L.heatLayer(coords, {maxZoom: 9,max:1, radius: 15,blur: 15, gradient: {
//				0.0: "rgba(000,000,255,0)",
//        0.2: "rgba(000,000,255,1)",
//        0.4: "rgba(000,255,255,1)",
//        0.6: "rgba(000,255,000,1)",
//        0.8: "rgba(255,255,000,1)",
//        1.0: "rgba(255,000,000,1)"}
//	});

//----------------------------------------------------------------------------------------------------------------

	var overlays = {"Constructeurs d'aéronefs télépilotés ayant <br>reçu une attestation de conception type au 05/11/2014<br>-----------------" : markers_const,
									"Exploitants en activités particulières<br>au moyen d'aéronefs télé-pilotés au 15/11/2014<br>-----------------": markers,
									"Exploitants pour le scénario S1":markers_s_un,
									"Exploitants pour le scénario S2":markers_s_deux,
									"Exploitants pour le scénario S3":markers_s_trois,
									"Exploitants pour le scénario S4":markers_s_quatre,
									"Exploitants adhérents à la FPDC":markers_s_fpdc};
									//"Heatmap des exploitants en activités <br>particulières au moyen d'aéronefs télé-pilotés":heat

//----------------------------------------------------------------------------------------------------------------

	var map = new L.Map('map',
			{center: [46.5, 2.5],
			zoom: 6,
			layers: [mapbox,markers],
			maxZoom: 13
	});

	L.control.layers(baseMap,overlays,{ collapsed: true }).addTo(map);

//----------------------------------------------------------------------------------------------------------------
//Centrer la popup lorsqu'elle est ouverte - Source : http://stackoverflow.com/questions/22538473/leaflet-center-popup-and-marker-to-the-map

	map.on('popupopen', function(e) {
			var px = map.project(e.popup._latlng); console.log(px); console.log(e.popup._container);
			px.y -= e.popup._container.clientHeight/2
			map.panTo(map.unproject(px),{animate: true});
	});

//----------------------------------------------------------------------------------------------------------------

		//Mini Map
		//var mapbox2 = new L.TileLayer('https://b.tiles.mapbox.com/v3/examples.c7d2024a/{z}/{x}/{y}.png');
		//var miniMap = new L.Control.MiniMap(mapbox2, { toggleDisplay: true}).addTo(map);

//----------------------------------------------------------------------------------------------------------------

		//Mouse Position
		L.control.mousePosition().addTo(map);

//----------------------------------------------------------------------------------------------------------------

		//Scale
		L.control.scale({ position: 'bottomleft'}).addTo(map);

//----------------------------------------------------------------------------------------------------------------

		// GeoRecherche
		new L.Control.GeoSearch({
		    provider: new L.GeoSearch.Provider.OpenStreetMap(),
		    position: 'topcenter',
		    showMarker: false
		}).addTo(map);
//----------------------------------------------------------------------------------------------------------------

		//Sidebar
		var sidebar = L.control.sidebar('sidebar').addTo(map);

//----------------------------------------------------------------------------------------------------------------

});
});
});
});
});
});
});
	</script>
</body>
</html>
